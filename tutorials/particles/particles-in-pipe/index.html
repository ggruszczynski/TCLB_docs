



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="The reference manual for the TCLB solver">
      
      
      
        <meta name="author" content="Lukasz Laniewski-Wollk">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.3, mkdocs-material-2.7.0">
    
    
      
        <title>Particles in a Pipe - TCLB Reference Manual</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.78aab2dc.css">
      
    
    
      <script src="../../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#particles-in-a-pipe" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../.." title="TCLB Reference Manual" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                TCLB Reference Manual
              </span>
              <span class="md-header-nav__topic">
                Particles in a Pipe
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/CFD-GO/TCLB" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      CFD-GO/TCLB
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </span>
    TCLB Reference Manual
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/CFD-GO/TCLB" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      CFD-GO/TCLB
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="Welcome to TCLB" class="md-nav__link">
      Welcome to TCLB
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      1. Getting started
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        1. Getting started
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../1.-Getting-started/installation/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../1.-Getting-started/running-simulation/" title="Running calculations" class="md-nav__link">
      Running calculations
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      2. Installation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        2. Installation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../2.-Installation/ESYS-Particle/" title="ESYS-Particle" class="md-nav__link">
      ESYS-Particle
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../2.-Installation/configuration-options/" title="Configuration options" class="md-nav__link">
      Configuration options
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../2.-Installation/dependencies/" title="Dependencies" class="md-nav__link">
      Dependencies
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      3. Running simulations
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        3. Running simulations
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../3.-Running-simulations/case-basics/" title="Case Basics" class="md-nav__link">
      Case Basics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../3.-Running-simulations/examples/" title="Examples" class="md-nav__link">
      Examples
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../3.-Running-simulations/units/" title="Units" class="md-nav__link">
      Units
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../3.-Running-simulations/working-remotely/" title="Working on a remote host" class="md-nav__link">
      Working on a remote host
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      4. Post processing
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        4. Post processing
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../4.-Post-processing/catalyst/" title="Catalyst" class="md-nav__link">
      Catalyst
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../4.-Post-processing/paraview/" title="Analyzing Results with ParaView" class="md-nav__link">
      Analyzing Results with ParaView
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../4.-Post-processing/particles/" title="Post-processing of particle data" class="md-nav__link">
      Post-processing of particle data
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      5. Model development
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        5. Model development
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../5.-Model-development/basics/" title="Model Information" class="md-nav__link">
      Model Information
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../5.-Model-development/tips/" title="Pro Tips" class="md-nav__link">
      Pro Tips
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      XML Reference
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        XML Reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../XML-Reference/Callbacks/" title="Callbacks" class="md-nav__link">
      Callbacks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../XML-Reference/Container/" title="Container" class="md-nav__link">
      Container
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../XML-Reference/Executions/" title="Executions" class="md-nav__link">
      Executions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../XML-Reference/Geometry-Boolean-Operation/" title="Geometry Boolean Operation" class="md-nav__link">
      Geometry Boolean Operation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../XML-Reference/Geometry-Primitive/" title="Geometry Primitive" class="md-nav__link">
      Geometry Primitive
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../XML-Reference/Geometry/" title="Geometry" class="md-nav__link">
      Geometry
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../XML-Reference/Node-Type-Brush/" title="Node Type Brush" class="md-nav__link">
      Node Type Brush
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../XML-Reference/Optimization-and-Optimal-Control/" title="Optimization and Optimal Control" class="md-nav__link">
      Optimization and Optimal Control
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../XML-Reference/Params/" title="Params" class="md-nav__link">
      Params
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../XML-Reference/Setup-Elements/" title="Setup Elements" class="md-nav__link">
      Setup Elements
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Models
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Models
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-1" type="checkbox" id="nav-8-1">
    
    <label class="md-nav__link" for="nav-8-1">
      PDE
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-1">
        PDE
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/PDE/wave/" title="Wave" class="md-nav__link">
      Wave
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/PDE/wave2d/" title="Wave2d" class="md-nav__link">
      Wave2d
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-2" type="checkbox" id="nav-8-2">
    
    <label class="md-nav__link" for="nav-8-2">
      Article
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-2">
        Article
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/article/d3q19_heat_adj_art/" title="D3q19 heat adj art" class="md-nav__link">
      D3q19 heat adj art
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-3" type="checkbox" id="nav-8-3">
    
    <label class="md-nav__link" for="nav-8-3">
      Electrokinetic
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-3">
        Electrokinetic
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/electrokinetic/d2q9_npe_guo/" title="D2q9 npe guo" class="md-nav__link">
      D2q9 npe guo
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/electrokinetic/d2q9_poison_boltzmann/" title="D2q9 poison boltzmann" class="md-nav__link">
      D2q9 poison boltzmann
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-4" type="checkbox" id="nav-8-4">
    
    <label class="md-nav__link" for="nav-8-4">
      Experimental
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-4">
        Experimental
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/experimental/d2q9_diff/" title="D2q9 diff" class="md-nav__link">
      D2q9 diff
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/experimental/d2q9_hb/" title="D2q9 hb" class="md-nav__link">
      D2q9 hb
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/experimental/d2q9_inc/" title="D2q9 inc" class="md-nav__link">
      D2q9 inc
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-5" type="checkbox" id="nav-8-5">
    
    <label class="md-nav__link" for="nav-8-5">
      Flow
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-5">
        Flow
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/flow/d2q9_SRT/" title="d2q9 SRT" class="md-nav__link">
      d2q9 SRT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/flow/d2q9_cumulant/" title="D2q9 cumulant" class="md-nav__link">
      D2q9 cumulant
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/flow/d2q9_les/" title="D2q9 les" class="md-nav__link">
      D2q9 les
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/flow/d2q9_thin_film/" title="D2q9 thin film" class="md-nav__link">
      D2q9 thin film
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/flow/d3q19/" title="D3q19" class="md-nav__link">
      D3q19
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/flow/d3q19_les/" title="D3q19 les" class="md-nav__link">
      D3q19 les
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/flow/d3q27/" title="D3q27" class="md-nav__link">
      D3q27
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-5-8" type="checkbox" id="nav-8-5-8">
    
    <label class="md-nav__link" for="nav-8-5-8">
      D2q9
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-8-5-8">
        D2q9
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/flow/d2q9/d2q9/" title="D2q9" class="md-nav__link">
      D2q9
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/flow/d2q9/d2q9_BC/" title="d2q9 BC" class="md-nav__link">
      d2q9 BC
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-5-9" type="checkbox" id="nav-8-5-9">
    
    <label class="md-nav__link" for="nav-8-5-9">
      D3q27 cumulant
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-8-5-9">
        D3q27 cumulant
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/flow/d3q27_cumulant/d3q27_cumulant/" title="D3q27 cumulant" class="md-nav__link">
      D3q27 cumulant
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/flow/d3q27_cumulant/d3q27_cumulant_AVG/" title="d3q27 cumulant AVG" class="md-nav__link">
      d3q27 cumulant AVG
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/flow/d3q27_cumulant/d3q27_cumulant_AVG_IB/" title="d3q27 cumulant AVG IB" class="md-nav__link">
      d3q27 cumulant AVG IB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/flow/d3q27_cumulant/d3q27_cumulant_AVG_IB_SMAG/" title="d3q27 cumulant AVG IB SMAG" class="md-nav__link">
      d3q27 cumulant AVG IB SMAG
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/flow/d3q27_cumulant/d3q27_cumulant_AVG_SMAG/" title="d3q27 cumulant AVG SMAG" class="md-nav__link">
      d3q27 cumulant AVG SMAG
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/flow/d3q27_cumulant/d3q27_cumulant_IB/" title="d3q27 cumulant IB" class="md-nav__link">
      d3q27 cumulant IB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/flow/d3q27_cumulant/d3q27_cumulant_IB_SMAG/" title="d3q27 cumulant IB SMAG" class="md-nav__link">
      d3q27 cumulant IB SMAG
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/flow/d3q27_cumulant/d3q27_cumulant_SMAG/" title="d3q27 cumulant SMAG" class="md-nav__link">
      d3q27 cumulant SMAG
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-5-10" type="checkbox" id="nav-8-5-10">
    
    <label class="md-nav__link" for="nav-8-5-10">
      Experimental
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-8-5-10">
        Experimental
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/flow/experimental/d3q27_BGK/" title="d3q27 BGK" class="md-nav__link">
      d3q27 BGK
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/flow/experimental/d3q27_BGK_galcor/" title="d3q27 BGK galcor" class="md-nav__link">
      d3q27 BGK galcor
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-5-11" type="checkbox" id="nav-8-5-11">
    
    <label class="md-nav__link" for="nav-8-5-11">
      Qibb
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-8-5-11">
        Qibb
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/flow/qibb/d3q27_cumulant_qibb_small/" title="D3q27 cumulant qibb small" class="md-nav__link">
      D3q27 cumulant qibb small
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-6" type="checkbox" id="nav-8-6">
    
    <label class="md-nav__link" for="nav-8-6">
      Heat
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-6">
        Heat
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/heat/d3q19_heat/" title="D3q19 heat" class="md-nav__link">
      D3q19 heat
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-6-2" type="checkbox" id="nav-8-6-2">
    
    <label class="md-nav__link" for="nav-8-6-2">
      Experimental
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-8-6-2">
        Experimental
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/heat/experimental/d2q9_heat/" title="D2q9 heat" class="md-nav__link">
      D2q9 heat
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-7" type="checkbox" id="nav-8-7">
    
    <label class="md-nav__link" for="nav-8-7">
      Moving
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-7">
        Moving
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/moving/d2q9_plate/" title="D2q9 plate" class="md-nav__link">
      D2q9 plate
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-8" type="checkbox" id="nav-8-8">
    
    <label class="md-nav__link" for="nav-8-8">
      Multiphase
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-8">
        Multiphase
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/multiphase/d2q9_csf/" title="D2q9 csf" class="md-nav__link">
      D2q9 csf
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/multiphase/d2q9_kuper/" title="D2q9 kuper" class="md-nav__link">
      D2q9 kuper
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/multiphase/d2q9_pf/" title="D2q9 pf" class="md-nav__link">
      D2q9 pf
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/multiphase/d2q9_pf_pressureEvolution/" title="d2q9 pf pressureEvolution" class="md-nav__link">
      d2q9 pf pressureEvolution
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/multiphase/d3q19_kuper/" title="D3q19 kuper" class="md-nav__link">
      D3q19 kuper
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-8-6" type="checkbox" id="nav-8-8-6">
    
    <label class="md-nav__link" for="nav-8-8-6">
      D2q9 pf velocity
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-8-8-6">
        D2q9 pf velocity
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/multiphase/d2q9_pf_velocity/d2q9_pf_velocity/" title="D2q9 pf velocity" class="md-nav__link">
      D2q9 pf velocity
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/multiphase/d2q9_pf_velocity/d2q9_pf_velocity_GF/" title="d2q9 pf velocity GF" class="md-nav__link">
      d2q9 pf velocity GF
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/multiphase/d2q9_pf_velocity/d2q9_pf_velocity_RT/" title="d2q9 pf velocity RT" class="md-nav__link">
      d2q9 pf velocity RT
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-8-7" type="checkbox" id="nav-8-8-7">
    
    <label class="md-nav__link" for="nav-8-8-7">
      D3q27 pf velocity
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-8-8-7">
        D3q27 pf velocity
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/multiphase/d3q27_pf_velocity/d3q27_pf_velocity/" title="D3q27 pf velocity" class="md-nav__link">
      D3q27 pf velocity
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/multiphase/d3q27_pf_velocity/d3q27_pf_velocity_SC/" title="d3q27 pf velocity SC" class="md-nav__link">
      d3q27 pf velocity SC
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-8-8" type="checkbox" id="nav-8-8-8">
    
    <label class="md-nav__link" for="nav-8-8-8">
      Experimental
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-8-8-8">
        Experimental
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/multiphase/experimental/d2q9_lee/" title="D2q9 lee" class="md-nav__link">
      D2q9 lee
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/multiphase/experimental/d2q9_pp_LBL/" title="d2q9 pp LBL" class="md-nav__link">
      d2q9 pp LBL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/multiphase/experimental/d2q9_pp_MCMP/" title="d2q9 pp MCMP" class="md-nav__link">
      d2q9 pp MCMP
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-8-9" type="checkbox" id="nav-8-8-9">
    
    <label class="md-nav__link" for="nav-8-8-9">
      Solidification
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-8-8-9">
        Solidification
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/multiphase/solidification/d2q9_solid/" title="D2q9 solid" class="md-nav__link">
      D2q9 solid
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-9" type="checkbox" id="nav-8-9">
    
    <label class="md-nav__link" for="nav-8-9">
      Nonnewtonian
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-9">
        Nonnewtonian
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/nonnewtonian/d3q27_viscoplastic/" title="D3q27 viscoplastic" class="md-nav__link">
      D3q27 viscoplastic
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-10" type="checkbox" id="nav-8-10">
    
    <label class="md-nav__link" for="nav-8-10">
      Optimization
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-10">
        Optimization
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/optimization/d2q9_adj/" title="D2q9 adj" class="md-nav__link">
      D2q9 adj
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/optimization/d2q9_optimalMixing/" title="d2q9 optimalMixing" class="md-nav__link">
      d2q9 optimalMixing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/optimization/d3q19_heat_adj/" title="D3q19 heat adj" class="md-nav__link">
      D3q19 heat adj
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-10-4" type="checkbox" id="nav-8-10-4">
    
    <label class="md-nav__link" for="nav-8-10-4">
      Experimental
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-8-10-4">
        Experimental
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/optimization/experimental/d2q9_heat_adj/" title="D2q9 heat adj" class="md-nav__link">
      D2q9 heat adj
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-11" type="checkbox" id="nav-8-11">
    
    <label class="md-nav__link" for="nav-8-11">
      Shallowwater
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-11">
        Shallowwater
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/shallowwater/sw/" title="Sw" class="md-nav__link">
      Sw
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9" checked>
    
    <label class="md-nav__link" for="nav-9">
      Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-1" type="checkbox" id="nav-9-1">
    
    <label class="md-nav__link" for="nav-9-1">
      Model development
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-1">
        Model development
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../model-development/1.-finite-difference-wave-equation/" title="Finite difference wave equation" class="md-nav__link">
      Finite difference wave equation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../model-development/2.-D2Q9-Single-Relexation-Time/" title="D2Q9 Single Relexation Time (SRT)" class="md-nav__link">
      D2Q9 Single Relexation Time (SRT)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../model-development/3.-D2Q9-ShanChen-SRT/" title="D2Q9 Schan-Chen SRT" class="md-nav__link">
      D2Q9 Schan-Chen SRT
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-2" type="checkbox" id="nav-9-2" checked>
    
    <label class="md-nav__link" for="nav-9-2">
      Particles
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-2">
        Particles
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Particles in a Pipe
      </label>
    
    <a href="./" title="Particles in a Pipe" class="md-nav__link md-nav__link--active">
      Particles in a Pipe
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#case" title="Case" class="md-nav__link">
    Case
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#geometry" title="Geometry" class="md-nav__link">
    Geometry
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#openscad" title="OpenSCAD" class="md-nav__link">
    OpenSCAD
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#esys-particle-simulation" title="ESYS-Particle simulation" class="md-nav__link">
    ESYS-Particle simulation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration" title="Configuration" class="md-nav__link">
    Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-esys-particle" title="Running ESYS-Particle" class="md-nav__link">
    Running ESYS-Particle
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tclb-simulation" title="TCLB Simulation" class="md-nav__link">
    TCLB Simulation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration_1" title="Configuration" class="md-nav__link">
    Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-tclb" title="Running TCLB" class="md-nav__link">
    Running TCLB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#results" title="Results" class="md-nav__link">
    Results
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#combining-tclb-and-esys-simulations" title="Combining TCLB and ESYS simulations" class="md-nav__link">
    Combining TCLB and ESYS simulations
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration_2" title="Configuration" class="md-nav__link">
    Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-tclb-and-esys" title="Running TCLB and ESYS" class="md-nav__link">
    Running TCLB and ESYS
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mpmd" title="MPMD" class="md-nav__link">
    MPMD
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#results_1" title="Results" class="md-nav__link">
    Results
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#case" title="Case" class="md-nav__link">
    Case
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#geometry" title="Geometry" class="md-nav__link">
    Geometry
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#openscad" title="OpenSCAD" class="md-nav__link">
    OpenSCAD
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#esys-particle-simulation" title="ESYS-Particle simulation" class="md-nav__link">
    ESYS-Particle simulation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration" title="Configuration" class="md-nav__link">
    Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-esys-particle" title="Running ESYS-Particle" class="md-nav__link">
    Running ESYS-Particle
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tclb-simulation" title="TCLB Simulation" class="md-nav__link">
    TCLB Simulation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration_1" title="Configuration" class="md-nav__link">
    Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-tclb" title="Running TCLB" class="md-nav__link">
    Running TCLB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#results" title="Results" class="md-nav__link">
    Results
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#combining-tclb-and-esys-simulations" title="Combining TCLB and ESYS simulations" class="md-nav__link">
    Combining TCLB and ESYS simulations
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration_2" title="Configuration" class="md-nav__link">
    Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-tclb-and-esys" title="Running TCLB and ESYS" class="md-nav__link">
    Running TCLB and ESYS
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mpmd" title="MPMD" class="md-nav__link">
    MPMD
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#results_1" title="Results" class="md-nav__link">
    Results
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="particles-in-a-pipe">Particles in a Pipe</h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>All these features related to particles are supported only in the
<a href="https://github.com/llaniewski/TCLB/tree/particles">particle</a> branch</p>
</div>
<h2 id="case">Case</h2>
<p>The case consists of 5 balls of radious 30, placed along Y axis, connected
by a narrowing cone, like on a picture:</p>
<p><img alt="Pape case drawing" src="../pipe.png" /></p>
<p>The particles will be placed in the wide section, and driven by the force
applied to the flow.</p>
<h2 id="geometry">Geometry</h2>
<p>We will use the OpenSCAD software to create the geometry. It will consist of
four balls connected by a narrowing channel.</p>
<h3 id="openscad">OpenSCAD</h3>
<p>You can install OpenSCAD with:</p>
<div class="codehilite"><pre><span></span>sudo apt install openscad
</pre></div>


<p>The OpenSCAD allow us to create geometries with a script.</p>
<div class="codehilite"><pre><span></span>R=30;
D=60;
translate([R,0,R]) {
    sphere(d=R*2);
    for (x=[1:4]) {
        translate([0,x*D,0]) {
            sphere(d=R*2);
        }
    }
    rotate([-90,0,0]) cylinder(h=8*R,r1=R,r2=R/2);
    rotate([90,0,0]) cylinder(h=3*R,r1=R,r2=R);
    translate([0,4*D,0]) rotate([-90,0,0]) cylinder(h=3*R,r1=R,r2=R);
}
</pre></div>


<p>You should get a geometry like this:</p>
<div class="sketchfab-embed-wrapper"><iframe width="640" height="480" src="https://sketchfab.com/models/57273635273048f38e91f19f42586195/embed" frameborder="0" allowvr allowfullscreen mozallowfullscreen="true" webkitallowfullscreen="true" onmousewheel=""></iframe>

<p style="font-size: 13px; font-weight: normal; margin: 5px; color: #4A4A4A;">
    <a href="https://sketchfab.com/models/57273635273048f38e91f19f42586195?utm_medium=embed&utm_source=website&utm_campain=share-popup" target="_blank" style="font-weight: bold; color: #1CAAD9;">Pipe test-case for TCLB</a>
    by <a href="https://sketchfab.com/llaniewski?utm_medium=embed&utm_source=website&utm_campain=share-popup" target="_blank" style="font-weight: bold; color: #1CAAD9;">Ł Łaniewski-Wołłk</a>
    on <a href="https://sketchfab.com?utm_medium=embed&utm_source=website&utm_campain=share-popup" target="_blank" style="font-weight: bold; color: #1CAAD9;">Sketchfab</a>
</p>
</div>

<p>From OpenSCAD you can export into several file formats. Export an
ASCII STL file "pipe_txt.stl". Sadly, it is rare for any software to support ASCII STL
files (which is also the case with TCLB). To create both binary stl file and
MSH file for ESYS-Particle with a util program provided with TCLB:</p>
<div class="codehilite"><pre><span></span>tools/stlutil -f pipe_txt.stl -o pipe.stl
tools/stlutil -f pipe_txt.stl -o pipe.msh
</pre></div>


<h2 id="esys-particle-simulation">ESYS-Particle simulation</h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For installation of ESYS-Particle, please refer to the <a href="../../../2.-Installation/ESYS-Particle/">reference</a></p>
</div>
<h3 id="configuration">Configuration</h3>
<p>The ESYS-Particle is simulation is set up in a python script "pipe.py". At
the begining of the script we have to initialize the <code>sim</code> object:</p>
<div class="codehilite"><pre><span></span><span class="kn">from</span> <span class="nn">esys.lsm</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">esys.lsm.util</span> <span class="kn">import</span> <span class="n">Vec3</span><span class="p">,</span> <span class="n">BoundingBox</span>
<span class="kn">from</span> <span class="nn">esys.lsm.geometry</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">sim</span> <span class="o">=</span> <span class="n">LsmMpi</span><span class="p">(</span><span class="n">numWorkerProcesses</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">mpiDimList</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="n">sim</span><span class="o">.</span><span class="n">initNeighbourSearch</span><span class="p">(</span> <span class="n">particleType</span><span class="o">=</span><span class="s2">&quot;RotSphere&quot;</span><span class="p">,</span> <span class="n">gridSpacing</span><span class="o">=</span><span class="mi">38</span><span class="p">,</span> <span class="n">verletDist</span><span class="o">=</span><span class="mf">0.7</span> <span class="p">)</span>
<span class="n">sim</span><span class="o">.</span><span class="n">setSpatialDomain</span><span class="p">(</span>
    <span class="n">BoundingBox</span><span class="p">(</span><span class="n">Vec3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">Vec3</span><span class="p">(</span><span class="mi">64</span><span class="p">,</span><span class="mi">240</span><span class="p">,</span><span class="mi">64</span><span class="p">)),</span>
    <span class="n">circDimList</span> <span class="o">=</span> <span class="p">[</span><span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">]</span>
<span class="p">)</span>
<span class="n">sim</span><span class="o">.</span><span class="n">setTimeStepSize</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">sim</span><span class="o">.</span><span class="n">setNumTimeSteps</span><span class="p">(</span><span class="mi">10000</span><span class="p">)</span>
</pre></div>


<p>First we read in the mesh:</p>
<div class="codehilite"><pre><span></span><span class="n">sim</span><span class="o">.</span><span class="n">readMesh</span><span class="p">(</span>
    <span class="n">fileName</span> <span class="o">=</span> <span class="s2">&quot;pipe.msh&quot;</span><span class="p">,</span>
    <span class="n">meshName</span> <span class="o">=</span> <span class="s2">&quot;floor_mesh_wall&quot;</span>
<span class="p">)</span>
</pre></div>


<p>Then we add a set of particles, randomly packed in a rectangle:</p>
<div class="codehilite"><pre><span></span><span class="n">geoRandomBlock</span> <span class="o">=</span> <span class="n">RandomBoxPacker</span><span class="p">(</span>
            <span class="n">minRadius</span> <span class="o">=</span> <span class="mf">4.0000</span><span class="p">,</span>
            <span class="n">maxRadius</span> <span class="o">=</span> <span class="mf">15.0000</span><span class="p">,</span>
            <span class="n">cubicPackRadius</span> <span class="o">=</span> <span class="mf">11.0000</span><span class="p">,</span>
            <span class="n">maxInsertFails</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">,</span>
            <span class="n">bBox</span> <span class="o">=</span> <span class="n">BoundingBox</span><span class="p">(</span>
            <span class="n">Vec3</span><span class="p">(</span><span class="mf">9.0000</span><span class="p">,</span> <span class="mf">2.0000</span><span class="p">,</span> <span class="mf">9.0000</span><span class="p">),</span>
            <span class="n">Vec3</span><span class="p">(</span><span class="mf">51.0000</span><span class="p">,</span> <span class="mf">60.0000</span><span class="p">,</span> <span class="mf">51.0000</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="n">circDimList</span> <span class="o">=</span> <span class="p">[</span><span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">],</span>
    <span class="n">tolerance</span> <span class="o">=</span> <span class="mf">1.0000e-05</span>
<span class="p">)</span>
<span class="n">geoRandomBlock</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
<span class="n">geoRandomBlock_particles</span> <span class="o">=</span> <span class="n">geoRandomBlock</span><span class="o">.</span><span class="n">getSimpleSphereCollection</span><span class="p">()</span>
<span class="n">sim</span><span class="o">.</span><span class="n">createParticles</span><span class="p">(</span><span class="n">geoRandomBlock_particles</span><span class="p">)</span>
</pre></div>


<p>We add friction interaction between particles:</p>
<div class="codehilite"><pre><span></span><span class="n">normalK</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="n">sim</span><span class="o">.</span><span class="n">createInteractionGroup</span> <span class="p">(</span>
    <span class="n">RotFrictionPrms</span> <span class="p">(</span>
        <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;friction&quot;</span><span class="p">,</span>
        <span class="n">normalK</span> <span class="o">=</span> <span class="n">normalK</span><span class="p">,</span>
        <span class="n">dynamicMu</span> <span class="o">=</span> <span class="mf">0.6</span><span class="p">,</span>
        <span class="n">shearK</span> <span class="o">=</span> <span class="n">normalK</span><span class="o">/</span><span class="mf">10.0</span><span class="p">,</span>
        <span class="n">staticMu</span> <span class="o">=</span> <span class="mf">0.6</span><span class="p">,</span>
        <span class="n">scaling</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre></div>


<p>and elastic interaction between particles and mesh wall:</p>
<div class="codehilite"><pre><span></span><span class="n">sim</span><span class="o">.</span><span class="n">createInteractionGroup</span> <span class="p">(</span>
    <span class="n">NRotElasticTriMeshPrms</span> <span class="p">(</span>
        <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;floorWall_repell&quot;</span><span class="p">,</span>
        <span class="n">meshName</span> <span class="o">=</span> <span class="s2">&quot;floor_mesh_wall&quot;</span><span class="p">,</span>
        <span class="n">normalK</span> <span class="o">=</span> <span class="n">normalK</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre></div>


<p>To start up the movement we add a small acceleration ($10^{-5}$):</p>
<div class="codehilite"><pre><span></span><span class="n">sim</span><span class="o">.</span><span class="n">createInteractionGroup</span> <span class="p">(</span>
    <span class="n">GravityPrms</span> <span class="p">(</span>
        <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;gravity&quot;</span><span class="p">,</span>
        <span class="n">acceleration</span> <span class="o">=</span> <span class="n">Vec3</span><span class="p">(</span><span class="mf">0.0000</span><span class="p">,</span> <span class="mf">1e-5</span><span class="p">,</span> <span class="mf">0.0000</span><span class="p">)</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre></div>


<p>To visualize the results, we add a check-pointer, which will write dump
files:</p>
<div class="codehilite"><pre><span></span><span class="n">sim</span><span class="o">.</span><span class="n">createCheckPointer</span> <span class="p">(</span>
    <span class="n">CheckPointPrms</span> <span class="p">(</span>
        <span class="n">fileNamePrefix</span> <span class="o">=</span> <span class="s2">&quot;flow_data&quot;</span><span class="p">,</span>
        <span class="n">beginTimeStep</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">endTimeStep</span> <span class="o">=</span> <span class="mi">20000</span><span class="p">,</span>
        <span class="n">timeStepIncr</span> <span class="o">=</span> <span class="mi">100</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre></div>


<p>Finnaly, we finish the "pipe.py" file with the execution of the simulation:</p>
<div class="codehilite"><pre><span></span><span class="n">sim</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>


<h3 id="running-esys-particle">Running ESYS-Particle</h3>
<p>We declared that we will use 1 worker process. ESYS works in a master-slave
architecture, where master process is a python interpreter. That means that
we need to run our simulation with two processes:</p>
<div class="codehilite"><pre><span></span>mpirun -np <span class="m">2</span> esysparticle pipe.py
</pre></div>


<div class="admonition note">
<p class="admonition-title">Post-Processing</p>
<p>To learn how to post-process results from ESYS-Particle please refer
to <a href="../../../4.-Post-processing/particles/">another section of this manual</a></p>
</div>
<h2 id="tclb-simulation">TCLB Simulation</h2>
<p>The fluid flow simulation will be a simple periodic flow in a pipe with
gravity force.</p>
<p>To run the example we will use the <code>d3q27_cumulant_part</code> model.</p>
<div class="codehilite"><pre><span></span>make -j <span class="m">4</span> d3q27_cumulant_part
</pre></div>


<div class="admonition note">
<p class="admonition-title">Compilation</p>
<p>For instructions on how to compile and run TCLB please refer to the
<a href="../../../1.-Getting-started/installation/">Getting Started guide</a></p>
</div>
<h3 id="configuration_1">Configuration</h3>
<p>Like any TCLB configuration (<code>pipe.xml</code>) we start with declaring the output directory,
size of domain and initialize the domain with the collision operator:</p>
<div class="codehilite"><pre><span></span><span class="nt">&lt;CLBConfig</span> <span class="na">version=</span><span class="s">&quot;2.0&quot;</span> <span class="na">output=</span><span class="s">&quot;output/3D/&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;Geometry</span> <span class="na">nx=</span><span class="s">&quot;64&quot;</span> <span class="na">ny=</span><span class="s">&quot;240&quot;</span> <span class="na">nz=</span><span class="s">&quot;64&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;MRT&gt;&lt;Box/&gt;&lt;/MRT&gt;</span>
</pre></div>


<p>Now we can add our STL geometry. We want mark all elements <em>outside</em> of the
geometry with <code>Wall</code> elements (and switch off collision):</p>
<div class="codehilite"><pre><span></span>                <span class="nt">&lt;Wall</span> <span class="na">mask=</span><span class="s">&quot;ALL&quot;</span><span class="nt">&gt;</span>
                       <span class="nt">&lt;STL</span> <span class="na">file=</span><span class="s">&quot;pipe.stl&quot;</span> <span class="na">side=</span><span class="s">&quot;out&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/Wall&gt;</span>
</pre></div>


<p>We now close the geometry element and begin to set up the simulation
settings:</p>
<div class="codehilite"><pre><span></span>        <span class="nt">&lt;/Geometry&gt;</span>
        <span class="nt">&lt;Model&gt;</span>
                <span class="nt">&lt;Params</span> <span class="na">ForceY=</span><span class="s">&quot;0.0001&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;Params</span> <span class="na">omega=</span><span class="s">&quot;1.0&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/Model&gt;</span>
</pre></div>


<p>After that we have everything ready. We can declare what output we need and
how many iterations we wan to execute:</p>
<div class="codehilite"><pre><span></span>        <span class="nt">&lt;Failcheck</span> <span class="na">Iterations=</span><span class="s">&quot;1000&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;VTK/&gt;</span>
        <span class="nt">&lt;VTK</span> <span class="na">Iterations=</span><span class="s">&quot;1000&quot;</span> <span class="na">what=</span><span class="s">&quot;U,Solid&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;Solve</span> <span class="na">Iterations=</span><span class="s">&quot;10000&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/CLBConfig&gt;</span>
</pre></div>


<h3 id="running-tclb">Running TCLB</h3>
<p>If we are running on GPU, at this stage we can use a single GPU:</p>
<div class="codehilite"><pre><span></span>CLB/d3q27_cumulant_part/main pipe.xml
</pre></div>


<p>If you are running on CPU, it's probably best to use all the avaliable CPU
cores:</p>
<div class="codehilite"><pre><span></span>mpirun -np <span class="m">4</span> CLB/d3q27_cumulant_part/main pipe.xml
</pre></div>


<h3 id="results">Results</h3>
<p>In ParaView you can inspect the results. The initiali VTK drop includes all
fields, which means that you can check if the boudaries are in the right
places etc. You can also check what is the maximal velocity.</p>
<h2 id="combining-tclb-and-esys-simulations">Combining TCLB and ESYS simulations</h2>
<h3 id="configuration_2">Configuration</h3>
<p>To combine the two simulations we add the <code>&lt;RemoteForceInterface&gt;</code> element
to the configuration file (say <code>pipe_dem.xml</code>) to the <code>&lt;Model&gt;</code> container.
This will include our settings for the particle simulation:</p>
<div class="codehilite"><pre><span></span>        <span class="nt">&lt;RemoteForceInterface</span> <span class="na">Iterations=</span><span class="s">&quot;10000&quot;</span> <span class="na">particle=</span><span class="s">&quot;RotSphere&quot;</span> <span class="na">verletDist=</span><span class="s">&quot;0.7&quot;</span> <span class="na">gridSpacing=</span><span class="s">&quot;38&quot;</span><span class="nt">&gt;</span>
sim.readMesh(
    fileName = &quot;pipe.msh&quot;,
    meshName = &quot;floor_mesh_wall&quot;
)

geoRandomBlock = RandomBoxPacker(
    minRadius = 4.0000,
    maxRadius = 15.0000,
    cubicPackRadius = 11.0000,
    maxInsertFails = 1000,
    bBox = BoundingBox(
    Vec3(9.0000, 2.0000, 9.0000),
    Vec3(51.0000, 60.0000, 51.0000)
    ),
    circDimList = [False, False, False],
    tolerance = 1.0000e-05
    )
geoRandomBlock.generate()
geoRandomBlock_particles = geoRandomBlock.getSimpleSphereCollection()
sim.createParticles(geoRandomBlock_particles)
sim.setParticleDensity (   tag = 0,   mask = -1,   Density = 2.0)

normalK = 3;

sim.createInteractionGroup (
    RotFrictionPrms (
        name = &quot;friction&quot;,
        normalK = normalK,
        dynamicMu = 0.6,
        shearK = normalK/10.0,
        staticMu = 0.6,
        scaling = True
        )
    )

sim.createInteractionGroup (
    NRotElasticTriMeshPrms (
        name = &quot;floorWall_repell&quot;,
        meshName = &quot;floor_mesh_wall&quot;,
        normalK = normalK
        )
    )

sim.createInteractionGroup (
    GravityPrms (
        name = &quot;gravity&quot;,
        acceleration = Vec3(0.0000, 1e-5, 0.0000)
        )
    )

sim.createCheckPointer (
    CheckPointPrms (
        fileNamePrefix = &quot;flow_data&quot;,
        beginTimeStep = 0,
        endTimeStep = 20000,
        timeStepIncr = 100
        )
    )
        <span class="nt">&lt;/RemoteForceInterface&gt;</span>
</pre></div>


<p>We deleted the now the gravity force acting on the particles, and rely only
on the force applied to the fluid flow.</p>
<h3 id="running-tclb-and-esys">Running TCLB and ESYS</h3>
<p>Our simulation is set up to be executed in a Spawning approach. This means
that we will run TCLB, and TCLB will dynamically spawn ESYS-Particle code.</p>
<p>To say to MPI that we have a limited number of slots for process execution
(cores), we need to create a hostfile:</p>
<div class="codehilite"><pre><span></span>localhost
localhost
localhost
localhost
</pre></div>


<p>This hostfile is very simple, and just says that we have 4 avaliable slots
on our computer (localhost). In a multi-computer setup (eg. cluster), we
would specify all the nodes involved.</p>
<p>Now we can run TCLB with:</p>
<div class="codehilite"><pre><span></span>mpirun -hostfile hostfile -np <span class="m">1</span> CLB/d3q27_cumulant_part/main pipe.xml
</pre></div>


<p>This will execute a single process of TCLB, which will in turn spawn 3
processes of ESYS (it will fill up the avaliable space). This means that it
will run a single master process and 2 worker processes. It will also
generate the Python setup file for ESYS, with appropriate division of the
domain and number of processes. You can inspect the generated file, which is
it <code>output/pipe_ESYS.py</code>.</p>
<h4 id="mpmd">MPMD</h4>
<p>We can also run the case in a Multiple Program Multiple Data (MPMD) approach.
This means executing both programs at the same time. As ESYS is executed
immediately, we have to provide our own Python configuration file. In our
case, we can use the <code>output/pipe_ESYS.py</code> as the template.</p>
<p>To run the both codes we use the runmpi's MPMD syntax:</p>
<div class="codehilite"><pre><span></span>mpirun -np <span class="m">1</span> CLB/d3q27_cumulant_part/main pipe.xml : -np <span class="m">3</span> esysparticle pipe.py
</pre></div>


<p>As the configuration for ESYS is not generated we can delete all contents of
the <code>&lt;RemoteForceInterface&gt;</code> XML element (but we have to keep it, so that
TCLB knows we want to connect with ESYS.</p>
<h3 id="results_1">Results</h3>
<p>Both the fluid results and particle data can be loaded into ParaView.
ParaView also reads stl files. The example results look like this:</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/OL-wsA36kYI?rel=0&amp;controls=0&amp;showinfo=0" frameborder="0" gesture="media" allow="encrypted-media" allowfullscreen></iframe>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../model-development/3.-D2Q9-ShanChen-SRT/" title="D2Q9 Schan-Chen SRT" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                D2Q9 Schan-Chen SRT
              </span>
            </div>
          </a>
        
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.8eb9be28.js"></script>
      
      <script>app.initialize({version:"0.17.3",url:{base:"../../.."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
    
    
      
    
  </body>
</html>